import { useFormContext } from "../context";
import Card from "../../components/cards/card";
import type { SVGProps } from "react";

export function OuiIcon(props: SVGProps<SVGSVGElement>) {
  return (
    <svg
      {...props}
      xmlns="http://www.w3.org/2000/svg"
      width="56"
      height="56"
      viewBox="0 0 56 56"
      fill="none"
    >
      <path
        d="M27.9993 4.27344C40.8863 4.27344 51.3327 14.7198 51.3327 27.6068C51.3327 40.4938 40.8863 50.9401 27.9993 50.9401C15.1123 50.9401 4.66602 40.4938 4.66602 27.6068C4.66602 14.7198 15.1123 4.27344 27.9993 4.27344ZM36.2477 19.1624L24.6977 30.7124L19.751 25.7634C19.5344 25.5466 19.2772 25.3746 18.9941 25.2573C18.7109 25.1399 18.4075 25.0794 18.101 25.0793C17.482 25.0791 16.8883 25.3248 16.4505 25.7623C16.0127 26.1998 15.7666 26.7933 15.7664 27.4123C15.7662 28.0312 16.0118 28.6249 16.4493 29.0628L22.8847 35.4981C23.123 35.7366 23.406 35.9257 23.7175 36.0548C24.029 36.1839 24.3629 36.2503 24.7 36.2503C25.0372 36.2503 25.371 36.1839 25.6825 36.0548C25.994 35.9257 26.277 35.7366 26.5153 35.4981L39.5493 22.4641C39.9872 22.0263 40.2331 21.4325 40.2331 20.8133C40.2331 20.1941 39.9872 19.6003 39.5493 19.1624C39.1115 18.7246 38.5177 18.4786 37.8985 18.4786C37.2793 18.4786 36.6855 18.7246 36.2477 19.1624Z"
        fill="#739A38"
      />
    </svg>
  );
}

export function NonIcon(props: SVGProps<SVGSVGElement>) {
  return (
    <svg
      {...props}
      xmlns="http://www.w3.org/2000/svg"
      width="56"
      height="56"
      viewBox="0 0 56 56"
      fill="none"
    >
      <path
        d="M28.0013 4.27344C40.8883 4.27344 51.3346 14.7198 51.3346 27.6068C51.3346 40.4938 40.8883 50.9401 28.0013 50.9401C15.1143 50.9401 4.66797 40.4938 4.66797 27.6068C4.66797 14.7198 15.1143 4.27344 28.0013 4.27344ZM23.0523 19.3561C22.6334 18.9332 22.0686 18.6864 21.4737 18.6662C20.8787 18.646 20.2986 18.854 19.8519 19.2475C19.4053 19.6411 19.126 20.1905 19.0712 20.7832C19.0163 21.376 19.1901 21.9673 19.557 22.4361L19.753 22.6578L24.6996 27.6044L19.753 32.5558C19.33 32.9747 19.0832 33.5394 19.063 34.1344C19.0429 34.7293 19.2508 35.3095 19.6444 35.7561C20.0379 36.2028 20.5873 36.4821 21.1801 36.5369C21.7729 36.5918 22.3642 36.418 22.833 36.0511L23.0523 35.8574L28.0013 30.9061L32.9503 35.8574C33.3692 36.2804 33.934 36.5272 34.5289 36.5474C35.1239 36.5676 35.704 36.3596 36.1507 35.966C36.5973 35.5725 36.8766 35.0231 36.9314 34.4303C36.9863 33.8376 36.8125 33.2463 36.4456 32.7774L36.252 32.5558L31.3006 27.6068L36.252 22.6578C36.6749 22.2388 36.9217 21.6741 36.9419 21.0792C36.9621 20.4842 36.7541 19.904 36.3606 19.4574C35.967 19.0108 35.4176 18.7315 34.8248 18.6766C34.2321 18.6218 33.6408 18.7956 33.172 19.1624L32.9503 19.3561L28.0013 24.3074L23.0523 19.3561Z"
        fill="#994937"
      />
    </svg>
  );
}

export default function Transport() {
    const { data, setData } = useFormContext();
  
    const handleSelect = (type: "Oui" | "Non") => {
      setData((prev) => ({ ...prev, transport: type }));
    };
  return (
    <div className="flex gap-4 max-tablet:flex-col max-tablet:gap-2">
      <Card
        svg={<OuiIcon />}
        svgClassName="border border-[rgba(115,154,56,0.5)]"
        title="Oui"
        description="Inclut les services d’assistance auto."
        selected={data.transport === "Oui"}
        onClick={() => handleSelect("Oui")}
      />

      <Card
        svg={<NonIcon />}
        svgClassName="border border-[rgba(153,73,55,0.38)]"
        title="Non"
        description="Aucune couverture liée au véhicule personnel."
        selected={data.transport === "Non"}
        onClick={() => handleSelect("Non")}
      />
    </div>
  );
}
